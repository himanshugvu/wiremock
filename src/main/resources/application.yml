kafka:
  producer:
    # --- REQUIRED / ENV-SPECIFIC ---
    bootstrapServers: "PLAINTEXT://kafka:9092"   # override per environment
    targetTopic: "payments-processed"

    # --- Delivery Semantics ---
    acks: "all"                      # strongest durability guarantee
    idempotence: true                # ensures ordering & prevents duplicates
    retries: 2147483647              # Integer.MAX_VALUE
    maxInFlightRequestsPerConnection: 5
    retryBackoffMs: 100              # ms backoff before retrying

    # --- Batching & Compression ---
    batchSizeBytes: 32768            # 32 KB (tuned for throughput)
    lingerMs: 10                     # small wait before batching
    compressionType: "lz4"           # fast & efficient compression

    # --- Timeouts & Buffers ---
    requestTimeoutMs: 30000          # request-level timeout
    deliveryTimeoutMs: 120000        # full send-cycle timeout
    bufferMemoryBytes: 67108864      # 64 MB producer buffer

    # --- Per-record Await Timeout (Consumer-Side) ---
    sendTimeoutMs: 60000             # max wait for send future

    # --- Headers ---
    copyHeaders: true
